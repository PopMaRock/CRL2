{"last_node_id":425,"last_link_id":992,"nodes":[{"id":47,"type":"GetNode","pos":[-1100,280],"size":[210,58],"flags":{"collapsed":true},"order":0,"mode":0,"inputs":[],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[38,39],"slot_index":0}],"title":"Get_input_img","properties":{},"widgets_values":["input_img"],"color":"#2a363b","bgcolor":"#3f5159"},{"id":37,"type":"GrowMaskWithBlur","pos":[-780,530],"size":[315,246],"flags":{"collapsed":true},"order":25,"mode":0,"inputs":[{"name":"mask","type":"MASK","link":22,"localized_name":"mask"}],"outputs":[{"name":"mask","type":"MASK","links":[29],"slot_index":0,"localized_name":"mask"},{"name":"mask_inverted","type":"MASK","links":null,"localized_name":"mask_inverted"}],"properties":{"Node name for S&R":"GrowMaskWithBlur"},"widgets_values":[-1,0,true,false,1,1,1,false],"color":"#4f5858","bgcolor":"#3b4444"},{"id":54,"type":"SetNode","pos":[-1160,460],"size":[210,58],"flags":{"collapsed":true},"order":17,"mode":0,"inputs":[{"name":"BIREFNET","type":"BIREFNET","link":45}],"outputs":[{"name":"*","type":"*","links":null}],"title":"Set_Biref","properties":{"previousName":""},"widgets_values":["Biref"],"color":"#323","bgcolor":"#535"},{"id":42,"type":"ImageRemoveAlpha+","pos":[-930,450],"size":[264.5999755859375,26],"flags":{"collapsed":true},"order":23,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":30,"localized_name":"image"}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[],"slot_index":0,"localized_name":"IMAGE"}],"properties":{"Node name for S&R":"ImageRemoveAlpha+"},"widgets_values":[],"color":"#4f5858","bgcolor":"#3b4444"},{"id":38,"type":"GetImageSize+","pos":[-930,410],"size":[214.20001220703125,66],"flags":{"collapsed":true},"order":24,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":37,"localized_name":"image"}],"outputs":[{"name":"width","type":"INT","links":[24],"slot_index":0,"localized_name":"width"},{"name":"height","type":"INT","links":[25],"slot_index":1,"localized_name":"height"},{"name":"count","type":"INT","links":null,"localized_name":"count"}],"properties":{"Node name for S&R":"GetImageSize+"},"widgets_values":[],"color":"#4f5858","bgcolor":"#3b4444"},{"id":39,"type":"SolidMask","pos":[-930,380],"size":[315,106],"flags":{"collapsed":true},"order":32,"mode":0,"inputs":[{"name":"width","type":"INT","link":24,"widget":{"name":"width"}},{"name":"height","type":"INT","link":25,"widget":{"name":"height"}}],"outputs":[{"name":"MASK","type":"MASK","links":[26],"slot_index":0,"localized_name":"MASK"}],"properties":{"Node name for S&R":"SolidMask"},"widgets_values":[0.5,512,512],"color":"#4f5858","bgcolor":"#3b4444"},{"id":40,"type":"MaskToImage","pos":[-930,350],"size":[264.5999755859375,26],"flags":{"collapsed":true},"order":36,"mode":0,"inputs":[{"name":"mask","type":"MASK","link":26,"localized_name":"mask"}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[27],"slot_index":0,"localized_name":"IMAGE"}],"properties":{"Node name for S&R":"MaskToImage"},"widgets_values":[],"color":"#4f5858","bgcolor":"#3b4444"},{"id":41,"type":"ImageCompositeMasked","pos":[-710,300],"size":[210,146],"flags":{"collapsed":false},"order":40,"mode":0,"inputs":[{"name":"destination","type":"IMAGE","link":27,"localized_name":"destination"},{"name":"source","type":"IMAGE","link":38,"localized_name":"source"},{"name":"mask","type":"MASK","link":29,"shape":7,"localized_name":"mask"}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[31,47],"slot_index":0,"localized_name":"IMAGE"}],"properties":{"Node name for S&R":"ImageCompositeMasked"},"widgets_values":[0,0,false],"color":"#4f5858","bgcolor":"#3b4444"},{"id":36,"type":"RembgByBiRefNetAdvanced","pos":[-930,490],"size":[440,250],"flags":{"collapsed":false},"order":16,"mode":0,"inputs":[{"name":"model","type":"BIREFNET","link":20,"localized_name":"model"},{"name":"images","type":"IMAGE","link":39,"localized_name":"images"}],"outputs":[{"name":"image","type":"IMAGE","links":[30,37],"slot_index":0,"localized_name":"image"},{"name":"mask","type":"MASK","links":[22],"slot_index":1,"localized_name":"mask"}],"properties":{"Node name for S&R":"RembgByBiRefNetAdvanced"},"widgets_values":[768,768,"nearest-exact",1,1,false,154,0.042],"color":"#4f5858","bgcolor":"#3b4444"},{"id":55,"type":"PreviewImage","pos":[-480,300],"size":[210,246],"flags":{},"order":45,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":47,"localized_name":"images"}],"outputs":[],"properties":{"Node name for S&R":"PreviewImage"},"widgets_values":[]},{"id":44,"type":"ImageResizeKJ","pos":[-920,1060],"size":[430,250],"flags":{"collapsed":false},"order":22,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":32,"localized_name":"image"},{"name":"get_image_size","type":"IMAGE","link":null,"shape":7,"localized_name":"get_image_size"},{"name":"width_input","type":"INT","link":null,"widget":{"name":"width_input"},"shape":7},{"name":"height_input","type":"INT","link":null,"widget":{"name":"height_input"},"shape":7}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[59,60,62],"slot_index":0,"localized_name":"IMAGE"},{"name":"width","type":"INT","links":null,"localized_name":"width"},{"name":"height","type":"INT","links":null,"localized_name":"height"}],"properties":{"Node name for S&R":"ImageResizeKJ"},"widgets_values":[1024,1024,"lanczos",false,2,0,0,"disabled"],"color":"#4f5858","bgcolor":"#3b4444"},{"id":27,"type":"PreviewImage","pos":[-480,1010],"size":[210,246],"flags":{},"order":29,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":59,"localized_name":"images"}],"outputs":[],"properties":{"Node name for S&R":"PreviewImage"},"widgets_values":[],"color":"#4f5858","bgcolor":"#3b4444"},{"id":43,"type":"SetNode","pos":[-460,590],"size":[210,58],"flags":{"collapsed":true},"order":44,"mode":0,"inputs":[{"name":"IMAGE","type":"IMAGE","link":31}],"outputs":[{"name":"*","type":"*","links":null}],"title":"Set_input_img_rembg","properties":{"previousName":""},"widgets_values":["input_img_rembg"],"color":"#2a363b","bgcolor":"#3f5159"},{"id":26,"type":"GetNode","pos":[-1100,780],"size":[240,60],"flags":{"collapsed":true},"order":1,"mode":0,"inputs":[],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[14],"slot_index":0}],"title":"Get_input_img_rembg","properties":{},"widgets_values":["input_img_rembg"],"color":"#2a363b","bgcolor":"#3f5159"},{"id":25,"type":"AutoCropFaces","pos":[-930,810],"size":[440,210],"flags":{"collapsed":false},"order":15,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":14,"localized_name":"image"}],"outputs":[{"name":"face","type":"IMAGE","links":[32],"slot_index":0,"localized_name":"face"},{"name":"CROP_DATA","type":"CROP_DATA","links":null,"localized_name":"CROP_DATA"}],"properties":{"Node name for S&R":"AutoCropFaces"},"widgets_values":[1,4,0.45,0,50,"1:1"]},{"id":393,"type":"Text Multiline","pos":[-1010,1590],"size":[210,122.10942840576172],"flags":{},"order":2,"mode":0,"inputs":[],"outputs":[{"name":"STRING","type":"STRING","links":[949],"slot_index":0,"shape":3,"label":"STRING","localized_name":"STRING"}],"title":"User Prompt Template","properties":{"Node name for S&R":"Text Multiline"},"widgets_values":["CAPTION\n\nImportant: \"SELF\"\n\nTAGS."]},{"id":404,"type":"String Replace (mtb)","pos":[-750,1800],"size":[237.93055725097656,78],"flags":{},"order":33,"mode":0,"inputs":[{"name":"string","type":"STRING","link":956,"widget":{"name":"string"},"label":"string"},{"name":"new","type":"STRING","link":957,"widget":{"name":"new"},"label":"new"}],"outputs":[{"name":"STRING","type":"STRING","links":[954,972],"slot_index":0,"shape":3,"label":"STRING","localized_name":"STRING"}],"properties":{"Node name for S&R":"String Replace (mtb)"},"widgets_values":["","TAGS",""]},{"id":394,"type":"String Replace (mtb)","pos":[-1010,1750],"size":[210,80],"flags":{},"order":26,"mode":0,"inputs":[{"name":"string","type":"STRING","link":949,"widget":{"name":"string"},"label":"string"},{"name":"new","type":"STRING","link":950,"widget":{"name":"new"},"label":"new"}],"outputs":[{"name":"STRING","type":"STRING","links":[956],"slot_index":0,"shape":3,"label":"STRING","localized_name":"STRING"}],"properties":{"Node name for S&R":"String Replace (mtb)"},"widgets_values":["","CAPTION",""]},{"id":396,"type":"WD14Tagger|pysssss","pos":[-1010,1870],"size":[230,220],"flags":{},"order":21,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":992,"localized_name":"image"}],"outputs":[{"name":"STRING","type":"STRING","links":[951,957],"slot_index":0,"shape":6,"localized_name":"STRING"}],"properties":{"Node name for S&R":"WD14Tagger|pysssss"},"widgets_values":["wd-v1-4-vit-tagger-v2",0.35,0.85,true,true,""]},{"id":398,"type":"ShowText|pysssss","pos":[-1010,2130],"size":[254.92529296875,426],"flags":{},"order":27,"mode":0,"inputs":[{"name":"text","type":"STRING","link":953,"widget":{"name":"text"},"label":"text"}],"outputs":[{"name":"STRING","type":"STRING","links":null,"shape":6,"label":"STRING","localized_name":"STRING"}],"title":"Extracted Caption","properties":{"Node name for S&R":"ShowText|pysssss"},"widgets_values":[["The image shows a young woman standing in a snowy landscape with a mammoth in the background. The woman is wearing a brown coat with a fur collar and a black belt. She has long dark hair and is looking directly at the camera with a serious expression. The mammoth is standing behind her with its trunk raised in the air. The background is filled with trees covered in snow and the sky is overcast. The overall mood of the image is cold and wintery."],"The image shows a young woman standing in a snowy landscape with a mammoth in the background. The woman is wearing a brown coat with a fur collar and a black belt. She has long dark hair and is looking directly at the camera with a serious expression. The mammoth is standing behind her with its trunk raised in the air. The background is filled with trees covered in snow and the sky is overcast. The overall mood of the image is cold and wintery.","This is a digital artwork depicting a young woman with striking, anime-inspired features. She has long, flowing pink hair with straight bangs that frame her face, and large, expressive blue eyes that dominate her visage. Her eyes are a vibrant blue with intricate details, including white highlights that give them a sparkling appearance. Her skin is pale with a smooth, porcelain-like texture, and she has a small, delicate nose and full, pink lips that are slightly parted, as if she is about to speak.\n\nShe wears a black choker with a golden ring at the front, which adds a touch of elegance to her overall appearance. Above her ears, she has a pair of pink cat ears with white fur on the inside, which are a whimsical and playful addition to her look. Her eyebrows are thin and well-groomed, and her eyelashes are long and luscious, giving her a doll-like appearance.\n\nThe background of the image is a soft, muted greenish-yellow color, which helps to make the subject stand out. The overall style of the artwork is highly detailed and realistic, with a focus on creating a sense of depth and dimension. The lighting is soft and even, with subtle highlights and shadows that add to the three-dimensional quality of the image."]},{"id":395,"type":"ShowText|pysssss","pos":[-750,2130],"size":[250.38893127441406,426],"flags":{},"order":28,"mode":0,"inputs":[{"name":"text","type":"STRING","link":951,"widget":{"name":"text"},"label":"text"}],"outputs":[{"name":"STRING","type":"STRING","links":null,"shape":6,"label":"STRING","localized_name":"STRING"}],"title":"Extracted Tags","properties":{"Node name for S&R":"ShowText|pysssss"},"widgets_values":[["1girl, solo, long hair, looking at viewer, black hair, outdoors, day, belt, hood, blurry, black eyes, coat, fur trim, lips, blurry background, depth of field, animal, hood down, snow, hands in pockets, realistic, winter clothes, winter, hooded coat, winter coat, asian"],"1girl, solo, long hair, looking at viewer, black hair, outdoors, day, belt, hood, blurry, black eyes, coat, fur trim, lips, blurry background, depth of field, animal, hood down, snow, hands in pockets, realistic, winter clothes, winter, hooded coat, winter coat, asian","1girl, solo, long hair, looking at viewer, open mouth, bangs, blue eyes, shirt, animal ears, white shirt, upper body, pink hair, parted lips, teeth, choker, cat ears, lips, animal ear fluff, eyelashes, black choker, portrait, freckles, "]},{"id":400,"type":"ShowText|pysssss","pos":[-490,2130],"size":[373.19976806640625,426],"flags":{},"order":37,"mode":0,"inputs":[{"name":"text","type":"STRING","link":954,"widget":{"name":"text"},"label":"text"}],"outputs":[{"name":"STRING","type":"STRING","links":null,"shape":6,"label":"STRING","localized_name":"STRING"}],"properties":{"Node name for S&R":"ShowText|pysssss"},"widgets_values":[["The image shows a young woman standing in a snowy landscape with a mammoth in the background. The woman is wearing a brown coat with a fur collar and a black belt. She has long dark hair and is looking directly at the camera with a serious expression. The mammoth is standing behind her with its trunk raised in the air. The background is filled with trees covered in snow and the sky is overcast. The overall mood of the image is cold and wintery.\n\nThe girl holds the cat, her face is posted on the cat hair\n\n1girl, solo, long hair, looking at viewer, black hair, outdoors, day, belt, hood, blurry, black eyes, coat, fur trim, lips, blurry background, depth of field, animal, hood down, snow, hands in pockets, realistic, winter clothes, winter, hooded coat, winter coat, asian."],"The image shows a young woman standing in a snowy landscape with a mammoth in the background. The woman is wearing a brown coat with a fur collar and a black belt. She has long dark hair and is looking directly at the camera with a serious expression. The mammoth is standing behind her with its trunk raised in the air. The background is filled with trees covered in snow and the sky is overcast. The overall mood of the image is cold and wintery.\n\nThe girl holds the cat, her face is posted on the cat hair\n\n1girl, solo, long hair, looking at viewer, black hair, outdoors, day, belt, hood, blurry, black eyes, coat, fur trim, lips, blurry background, depth of field, animal, hood down, snow, hands in pockets, realistic, winter clothes, winter, hooded coat, winter coat, asian.","This is a digital artwork depicting a young woman with striking, anime-inspired features. She has long, flowing pink hair with straight bangs that frame her face, and large, expressive blue eyes that dominate her visage. Her eyes are a vibrant blue with intricate details, including white highlights that give them a sparkling appearance. Her skin is pale with a smooth, porcelain-like texture, and she has a small, delicate nose and full, pink lips that are slightly parted, as if she is about to speak.\n\nShe wears a black choker with a golden ring at the front, which adds a touch of elegance to her overall appearance. Above her ears, she has a pair of pink cat ears with white fur on the inside, which are a whimsical and playful addition to her look. Her eyebrows are thin and well-groomed, and her eyelashes are long and luscious, giving her a doll-like appearance.\n\nThe background of the image is a soft, muted greenish-yellow color, which helps to make the subject stand out. The overall style of the artwork is highly detailed and realistic, with a focus on creating a sense of depth and dimension. The lighting is soft and even, with subtle highlights and shadows that add to the three-dimensional quality of the image.\n\nImportant: \"SELF\"\n\n1girl, solo, long hair, looking at viewer, open mouth, bangs, blue eyes, shirt, animal ears, white shirt, upper body, pink hair, parted lips, teeth, choker, cat ears, lips, animal ear fluff, eyelashes, black choker, portrait, freckles, ."]},{"id":399,"type":"easy seed","pos":[-480,1570],"size":[210,106],"flags":{"collapsed":true},"order":3,"mode":0,"inputs":[],"outputs":[{"name":"seed","type":"INT","links":[964],"slot_index":0,"localized_name":"seed"}],"properties":{"Node name for S&R":"easy seed"},"widgets_values":[426501437180486,"randomize",null]},{"id":35,"type":"GetNode","pos":[-930,320],"size":[210,58],"flags":{"collapsed":true},"order":4,"mode":0,"inputs":[],"outputs":[{"name":"BIREFNET","type":"BIREFNET","links":[20],"slot_index":0}],"title":"Get_Biref","properties":{},"widgets_values":["Biref"],"color":"#4f5858","bgcolor":"#3b4444"},{"id":48,"type":"AutoDownloadBiRefNetModel","pos":[-1360,330],"size":[315,82],"flags":{},"order":5,"mode":0,"inputs":[],"outputs":[{"name":"model","type":"BIREFNET","links":[45],"slot_index":0,"localized_name":"model"}],"properties":{"Node name for S&R":"AutoDownloadBiRefNetModel"},"widgets_values":["General","AUTO"],"color":"#323","bgcolor":"#535"},{"id":401,"type":"LLMLoader","pos":[-480,1610],"size":[240,140],"flags":{},"order":6,"mode":0,"inputs":[],"outputs":[{"name":"model","type":"CUSTOM","links":[961],"localized_name":"model"}],"properties":{"Node name for S&R":"LLMLoader"},"widgets_values":["Meta-Llama-3-8B-Instruct-Q4_K_S.gguf",2048,27,8]},{"id":408,"type":"LLMSampler","pos":[-480,1790],"size":[240.9768829345703,281.07855224609375],"flags":{},"order":38,"mode":0,"inputs":[{"name":"model","type":"CUSTOM","link":961,"label":"model","localized_name":"model"},{"name":"prompt","type":"STRING","link":972,"widget":{"name":"prompt"},"label":"prompt"},{"name":"system_msg","type":"STRING","link":977,"widget":{"name":"system_msg"},"label":"system_msg"},{"name":"seed","type":"INT","link":964,"widget":{"name":"seed"},"label":"seed"}],"outputs":[{"name":"STRING","type":"STRING","links":[965,989],"slot_index":0,"shape":3,"label":"STRING","localized_name":"STRING"}],"properties":{"Node name for S&R":"LLMSampler"},"widgets_values":["You are an assistant who perfectly describes images.","",208,0.5,0.9500000000000001,40,0,0,1.1,928,"randomize"]},{"id":417,"type":"GetNode","pos":[-660,1920],"size":[210,58],"flags":{"collapsed":true},"order":7,"mode":0,"inputs":[],"outputs":[{"name":"STRING","type":"STRING","links":[977],"slot_index":0}],"title":"Get_LLMPrompt","properties":{},"widgets_values":["LLMPrompt"]},{"id":397,"type":"Note","pos":[-230,1930],"size":[346.5567626953125,134.1456756591797],"flags":{},"order":8,"mode":0,"inputs":[],"outputs":[],"properties":{},"widgets_values":["For good results, you should follow the prompting style in the examples here: https://github.com/Lightricks/LTX-Video\n\nYou can use image captioner to get the overall description of the scene and tweak it to get the desired results.\n\nImage captioning doesn't address the kind of motion that happens in the scenes. Consider adding this part manually or using an LLM of your choice."],"color":"#432","bgcolor":"#653"},{"id":403,"type":"JoyCaption2","pos":[-1380,1770],"size":[336.1120300292969,748],"flags":{},"order":20,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":978,"localized_name":"image"}],"outputs":[{"name":"text","type":"STRING","links":[950,953],"slot_index":0,"shape":6,"localized_name":"text"}],"properties":{"Node name for S&R":"JoyCaption2"},"widgets_values":["Orenguteng/Llama-3.1-8B-Lexi-Uncensored-V2","nf4","Descriptive","any","A descriptive caption for this image",260,0.8,0.7000000000000001,false,"cuda:0",true,false,false,false,false,false,false,false,false,false,false,false,true,false,false,true,true,false,""]},{"id":63,"type":"Florence2Run","pos":[-170,310],"size":[390,410],"flags":{"collapsed":false},"order":30,"mode":2,"inputs":[{"name":"image","type":"IMAGE","link":60,"localized_name":"image"},{"name":"florence2_model","type":"FL2MODEL","link":61,"localized_name":"florence2_model"}],"outputs":[{"name":"image","type":"IMAGE","links":null,"localized_name":"image"},{"name":"mask","type":"MASK","links":null,"localized_name":"mask"},{"name":"caption","type":"STRING","links":[58],"slot_index":2,"localized_name":"caption"},{"name":"data","type":"JSON","links":null,"localized_name":"data"}],"properties":{"Node name for S&R":"Florence2Run"},"widgets_values":["Generate precise physical_appearance_only: describe face characteristics (hair, eyes, nose, lips, skin, age, gender). output as tags. no scene details.\nRespond in booru tag list only.","docvqa",true,false,1024,3,true,"",868028032816881,"randomize"]},{"id":66,"type":"Florence2ModelLoader","pos":[30,270],"size":[315,106],"flags":{"collapsed":true},"order":9,"mode":2,"inputs":[{"name":"lora","type":"PEFTLORA","link":null,"shape":7,"localized_name":"lora"}],"outputs":[{"name":"florence2_model","type":"FL2MODEL","links":[61],"localized_name":"florence2_model"}],"properties":{"Node name for S&R":"Florence2ModelLoader"},"widgets_values":["Florence-2-base-PromptGen-v2.0","bf16","sdpa"]},{"id":67,"type":"WD14Tagger|pysssss","pos":[250,330],"size":[315,240],"flags":{"collapsed":true},"order":31,"mode":2,"inputs":[{"name":"image","type":"IMAGE","link":62,"localized_name":"image"}],"outputs":[{"name":"STRING","type":"STRING","links":[63],"slot_index":0,"shape":6,"localized_name":"STRING"}],"properties":{"Node name for S&R":"WD14Tagger|pysssss"},"widgets_values":["wd-v1-4-vit-tagger-v2",0.35,0.85,true,false,"close up, nude, naked, looking at viewer, simple background, grey background, portrait"]},{"id":68,"type":"ShowText|pysssss","pos":[240,380],"size":[250,230],"flags":{},"order":35,"mode":2,"inputs":[{"name":"text","type":"STRING","link":63,"widget":{"name":"text"}}],"outputs":[{"name":"STRING","type":"STRING","links":[79],"slot_index":0,"shape":6,"localized_name":"STRING"}],"title":"WD14 Output","properties":{"Node name for S&R":"ShowText|pysssss"},"widgets_values":["","1girl, solo, long hair, open mouth, bangs, blue eyes, shirt, animal ears, white shirt, pink hair, parted lips, teeth, choker, cat ears, mole, lips, animal ear fluff, eyelashes, mole under eye, black choker"]},{"id":65,"type":"ShowText|pysssss","pos":[-170,760],"size":[380,170],"flags":{},"order":34,"mode":2,"inputs":[{"name":"text","type":"STRING","link":58,"widget":{"name":"text"}}],"outputs":[{"name":"STRING","type":"STRING","links":[80],"slot_index":0,"shape":6,"localized_name":"STRING"}],"title":"Cuntbag Florance output","properties":{"Node name for S&R":"ShowText|pysssss"},"widgets_values":["","1girl, solo, long hair, looking at viewer, blue eyes, simple background, shirt, animal ears, white shirt, upper body, pink hair, parted lips, teeth, choker, grey background, collar, animal ear fluff, lips, no scene details, black choker"]},{"id":77,"type":"CR Text Concatenate","pos":[-160,970],"size":[315,126],"flags":{"collapsed":true},"order":39,"mode":2,"inputs":[{"name":"text1","type":"STRING","link":79,"widget":{"name":"text1"},"shape":7},{"name":"text2","type":"STRING","link":80,"widget":{"name":"text2"},"shape":7}],"outputs":[{"name":"STRING","type":"*","links":[891],"slot_index":0,"localized_name":"STRING"},{"name":"show_help","type":"STRING","links":null,"localized_name":"show_help"}],"title":"Join strings","properties":{"Node name for S&R":"CR Text Concatenate"},"widgets_values":["","",","]},{"id":363,"type":"Text Multiline","pos":[-160,1010],"size":[370,190],"flags":{},"order":10,"mode":2,"inputs":[],"outputs":[{"name":"STRING","type":"STRING","links":[892],"localized_name":"STRING"}],"properties":{"Node name for S&R":"Text Multiline"},"widgets_values":["(medium|petite|small|huge|large)?\\s*breasts,?\\s*|solo,?\\s*|close up,?\\s*|nude,?\\s*|naked,?\\s*|looking at viewer,?\\s*|simple background,?\\s*|grey background,?\\s*|portrait,?\\s*|parted lips,?\\s*|smile,?\\s*|closed mouth,?\\s*|upper body,?\\s*"]},{"id":70,"type":"ShowText|pysssss","pos":[240,660],"size":[250,540],"flags":{},"order":49,"mode":2,"inputs":[{"name":"text","type":"STRING","link":988,"widget":{"name":"text"}}],"outputs":[{"name":"STRING","type":"STRING","links":[],"slot_index":0,"shape":6,"localized_name":"STRING"}],"title":"Final prompt","properties":{"Node name for S&R":"ShowText|pysssss"},"widgets_values":["","1girl,long hair,open mouth,bangs,blue eyes,shirt,animal ears,white shirt,pink hair,teeth,choker,cat ears,mole,lips,animal ear fluff,eyelashes,mole under eye,black choker,collar,no scene details"]},{"id":79,"type":"Remove Duplicates","pos":[40,970],"size":[400,200],"flags":{"collapsed":true},"order":47,"mode":2,"inputs":[{"name":"string","type":"STRING","link":84,"widget":{"name":"string"}}],"outputs":[{"name":"string","type":"STRING","links":[987],"slot_index":0,"localized_name":"string"}],"properties":{"Node name for S&R":"Remove Duplicates"},"widgets_values":[""]},{"id":75,"type":"Replace String // RvTools","pos":[-80,970],"size":[315,106],"flags":{"collapsed":true},"order":43,"mode":2,"inputs":[{"name":"String","type":"STRING","link":891,"widget":{"name":"String"}},{"name":"Regex","type":"STRING","link":892,"widget":{"name":"Regex"}}],"outputs":[{"name":"STRING","type":"STRING","links":[84],"slot_index":0,"localized_name":"STRING"}],"title":"Replace Shite","properties":{"Node name for S&R":"Replace String // RvTools"},"widgets_values":["","",""]},{"id":423,"type":"SetNode","pos":[270,1630],"size":[210,58],"flags":{"collapsed":false},"order":42,"mode":0,"inputs":[{"name":"STRING","type":"STRING","link":989}],"outputs":[{"name":"STRING","type":"STRING","links":[990],"slot_index":0}],"title":"Set_OG_caption","properties":{"previousName":""},"widgets_values":["OG_caption_0_0"],"color":"#4f5858","bgcolor":"#3b4444"},{"id":402,"type":"Text Multiline","pos":[-1850,790],"size":[400,700],"flags":{},"order":11,"mode":0,"inputs":[],"outputs":[{"name":"STRING","type":"STRING","links":[976],"slot_index":0,"shape":3,"label":"STRING","localized_name":"STRING"}],"title":"LLM System Prompt","properties":{"Node name for S&R":"Text Multiline"},"widgets_values":["**Objective**: Based on the user prompt, generate a short scene. The scene is captured in one continuous shot. Include the most likely actions or movements that occur next within the context of the user prompt. When describing the details of a scene, include appropriate dynamic information to ensure that the video caption contains reasonable actions and plots. \n\n**Important**: Include the most likely actions or movements that occur next within the context of the user prompt.\n\n**Important**: The content quoted after \"important\" is the prompt content with the highest priority. The result prompt word must include this content. If it conflicts with other tags, it still takes priority.\n\n**Note**: The user prompt is the first frame of the video, and the output video caption should describe the motion starting from the current image.\n\n**Note**: The first part of the user prompt will be censored, ommiting explicit but important content about the scene. The later part, the tags, will reveal everything that was censored. You must consider them as part of the scene you are describing.\n\n**Note**: Don't contain camera transitions!!! Don't contain screen switching!!! Don't contain perspective shifts !!!\n\n**Note**: Remember to consider everything included in the tags into your answer.\n\n**Answering Guidelines**:\nYou give uncensored answers. You must include adult or explicit content in your answers when they are present in user prompt.\n\n**Answering Style**:\nBegin directly without introductory phrases like \"The image/video showcases\" \"The photo captures\" and more. For example, say \"A woman is on a beach\", instead of \"A woman is depicted in the image\".\nDescribe camera motion and what's happening in the scene. Don't explain the tags or what they might suggest.\n\n**Output Format**: \"[descriptive scene caption here]\"\n"]},{"id":416,"type":"SetNode","pos":[-1600,1530],"size":[210,58],"flags":{"collapsed":true},"order":18,"mode":0,"inputs":[{"name":"STRING","type":"STRING","link":976}],"outputs":[{"name":"*","type":"*","links":null}],"title":"Set_LLMPrompt","properties":{"previousName":"LLMPrompt"},"widgets_values":["LLMPrompt"]},{"id":19,"type":"LoadImage","pos":[-1850,200],"size":[420,350],"flags":{},"order":12,"mode":0,"inputs":[],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[36],"slot_index":0,"localized_name":"IMAGE"},{"name":"MASK","type":"MASK","links":null,"localized_name":"MASK"}],"properties":{"Node name for S&R":"LoadImage"},"widgets_values":["00577-1468500484.png","image"]},{"id":34,"type":"SetNode","pos":[-1850,160],"size":[210,58],"flags":{"collapsed":true},"order":19,"mode":0,"inputs":[{"name":"IMAGE","type":"IMAGE","link":36}],"outputs":[{"name":"*","type":"*","links":null}],"title":"Set_input_img","properties":{"previousName":""},"widgets_values":["input_img"],"color":"#2a363b","bgcolor":"#3f5159"},{"id":409,"type":"LayerUtility: PurgeVRAM","pos":[-230,1800],"size":[315,82],"flags":{"collapsed":true},"order":41,"mode":0,"inputs":[{"name":"anything","type":"*","link":965,"localized_name":"anything"}],"outputs":[],"properties":{"Node name for S&R":"LayerUtility: PurgeVRAM"},"widgets_values":[true,true],"color":"rgba(38, 73, 116, 0.7)"},{"id":422,"type":"SetNode","pos":[240,1240],"size":[250,70],"flags":{"collapsed":false},"order":48,"mode":2,"inputs":[{"name":"STRING","type":"STRING","link":987}],"outputs":[{"name":"STRING","type":"STRING","links":[988,991],"slot_index":0}],"title":"Set_OG_caption","properties":{"previousName":""},"widgets_values":["OG_caption_0"],"color":"#4f5858","bgcolor":"#3b4444"},{"id":425,"type":"LayerUtility: PurgeVRAM","pos":[290,1350],"size":[315,82],"flags":{"collapsed":true},"order":50,"mode":2,"inputs":[{"name":"anything","type":"*","link":991,"localized_name":"anything"}],"outputs":[],"properties":{"Node name for S&R":"LayerUtility: PurgeVRAM"},"widgets_values":[true,true],"color":"rgba(38, 73, 116, 0.7)"},{"id":392,"type":"Fast Groups Muter (rgthree)","pos":[-1850,590],"size":[400,160],"flags":{},"order":13,"mode":0,"inputs":[],"outputs":[{"name":"OPT_CONNECTION","type":"*","links":[],"slot_index":0}],"properties":{"matchColors":"","matchTitle":"","showNav":true,"sort":"alphanumeric","customSortAlphabet":"","toggleRestriction":"default"},"color":"#432","bgcolor":"#653"},{"id":418,"type":"GetNode","pos":[-1380,1660],"size":[210,58],"flags":{"collapsed":false},"order":14,"mode":0,"inputs":[],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[978,992],"slot_index":0}],"title":"Get_input_img","properties":{},"widgets_values":["input_img"],"color":"#2a363b","bgcolor":"#3f5159"},{"id":424,"type":"ShowText|pysssss","pos":[150,1750],"size":[340,710],"flags":{},"order":46,"mode":0,"inputs":[{"name":"text","type":"STRING","link":990,"widget":{"name":"text"}}],"outputs":[{"name":"STRING","type":"STRING","links":null,"shape":6,"localized_name":"STRING"}],"properties":{"Node name for S&R":"ShowText|pysssss"},"widgets_values":["","A woman is standing in front of a blurred greenish-yellow background, her pink hair cascading down her back like a waterfall. She looks directly at the viewer, her large blue eyes sparkling with a hint of mischief. Her full lips are parted, revealing a glimpse of her pearly whites. Her black choker glimmers in the light, drawing attention to her elegant features. Her pink cat ears perk up, adding a playful touch to her overall demeanor. Her slender fingers rest against her thighs, and her upper body is clad in a white shirt that accentuates her porcelain-like complexion. A few freckles dot her cheeks, giving her an endearing, human-like quality. As she stands there, her gaze seems to hold a secret, inviting the viewer to lean in closer and uncover the mystery behind her enigmatic smile."]}],"links":[[14,26,0,25,0,"IMAGE"],[20,35,0,36,0,"BIREFNET"],[22,36,1,37,0,"MASK"],[24,38,0,39,0,"INT"],[25,38,1,39,1,"INT"],[26,39,0,40,0,"MASK"],[27,40,0,41,0,"IMAGE"],[29,37,0,41,2,"MASK"],[30,36,0,42,0,"IMAGE"],[31,41,0,43,0,"*"],[32,25,0,44,0,"IMAGE"],[36,19,0,34,0,"IMAGE"],[37,36,0,38,0,"IMAGE"],[38,47,0,41,1,"IMAGE"],[39,47,0,36,1,"IMAGE"],[45,48,0,54,0,"*"],[47,41,0,55,0,"IMAGE"],[58,63,2,65,0,"STRING"],[59,44,0,27,0,"IMAGE"],[60,44,0,63,0,"IMAGE"],[61,66,0,63,1,"FL2MODEL"],[62,44,0,67,0,"IMAGE"],[63,67,0,68,0,"STRING"],[79,68,0,77,0,"STRING"],[80,65,0,77,1,"STRING"],[84,75,0,79,0,"STRING"],[891,77,0,75,0,"STRING"],[892,363,0,75,1,"STRING"],[949,393,0,394,0,"STRING"],[950,403,0,394,1,"STRING"],[951,396,0,395,0,"STRING"],[953,403,0,398,0,"STRING"],[954,404,0,400,0,"STRING"],[956,394,0,404,0,"STRING"],[957,396,0,404,1,"STRING"],[961,401,0,408,0,"CUSTOM"],[964,399,0,408,3,"INT"],[965,408,0,409,0,"*"],[972,404,0,408,1,"STRING"],[976,402,0,416,0,"*"],[977,417,0,408,2,"STRING"],[978,418,0,403,0,"IMAGE"],[987,79,0,422,0,"*"],[988,422,0,70,0,"STRING"],[989,408,0,423,0,"*"],[990,423,0,424,0,"STRING"],[991,422,0,425,0,"*"],[992,418,0,396,0,"IMAGE"]],"groups":[{"id":3,"title":"Get Face","bounding":[-1420,150,1200,1330],"color":"#3f789e","font_size":24,"flags":{}},{"id":9,"title":"SDXL","bounding":[-200,150,710,1330],"color":"#3f789e","font_size":24,"flags":{}},{"id":12,"title":"Advanced Prompt Generator","bounding":[-1420,1500,1930,1080],"color":"#3f789e","font_size":24,"flags":{}}],"config":{},"extra":{"ds":{"scale":1.116781577942556,"offset":[1509.3039807752093,-1440.7055388534436]},"node_versions":{"comfyui-kjnodes":"1.0.5","comfyui_essentials":"33ff89fd354d8ec3ab6affb605a79a931b445d99","comfy-core":"0.3.12","comfyui_birefnet_ll":"1.1.0","ComfyUI-AutoCropFaces":"b2139db9a8ffb4707832106a58f519bbd04e6118","pr-was-node-suite-comfyui-47064894":"056badacda52e88d29d6a65f9509cd3115ace0f2","comfy-mtb":"b7ca8ed1c6e117b71afd7696f55dcc3dbd5bad08","comfyui-wd14-tagger":"1.0.0","comfyui-custom-scripts":"1.0.0","comfyui-easy-use":"1.2.6","comfyui_vlm_nodes":"1.0.6","comfyui_jc2":"712b89398d0a7b005235c8d36f333e86a0beea1b","comfyui-florence2":"1.0.3","ComfyUI_Comfyroll_CustomNodes":"d78b780ae43fcf8c6b7c6505e6ffb4584281ceca","ComfyUI-RvTools":"10bc5a601d618862124b9d4ea433740f8c41f468","comfyui_layerstyle":"1.0.90"},"ue_links":[],"groupNodes":{"Remove Background":{"nodes":[{"id":-1,"type":"LoadImage","pos":[-1010,80],"size":[315,314],"flags":{},"order":3,"mode":0,"inputs":[],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[],"localized_name":"IMAGE"},{"name":"MASK","type":"MASK","links":null,"localized_name":"MASK"}],"properties":{"Node name for S&R":"LoadImage"},"widgets_values":["29dee7cba0664bbfea1ada9981667512.jpg","image"],"index":0},{"id":-1,"type":"easy imageRemBg","pos":[-650,80],"size":[315,150],"flags":{},"order":7,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":null,"localized_name":"images"}],"outputs":[{"name":"image","type":"IMAGE","links":[],"slot_index":0,"localized_name":"image"},{"name":"mask","type":"MASK","links":null,"localized_name":"mask"}],"properties":{"Node name for S&R":"easy imageRemBg"},"widgets_values":["RMBG-1.4","Preview","ComfyUI",false,"none"],"index":1}],"links":[[0,0,1,0,19,"IMAGE"]],"external":[]}}},"version":0.4}